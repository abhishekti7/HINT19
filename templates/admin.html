{% extends "layout.html" %}
{% block page_title %}Admin Dashboard{% endblock %}
{% block body %}
    {{ super() }}

    {# only invoked when failed adding new ID due to duplication #}
    {% if id_to_add_is_duplicated %}
    <div class="alert alert-dismissible alert-danger">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Warning!</strong> The account name already exists.
    </div>
    {% endif %}

    {# only invoked when failed adding new ID due to invalid character #}
    {% if id_to_add_is_invalid %}
    <div class="alert alert-dismissible alert-danger">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>Warning!</strong> The account name is invalid.
    </div>
    {% endif %}
    <div style="text-align: center;">
    <div class="container center" style="display: inline-block; vertical-align: middle; ">

    <div class = "mdl-card mdl-shadow--2dp" style="width: 600px;">
      <div class="row">

        <div class="col-lg-6">
          <h3>Add Account</h3>

          <form class="form-inline" action="/add_user" method='post'>
            <div class="form-group">
              <label for="textArea" class="col-lg-3 control-label">Publish an article</label>
              <div class="col-lg-9">
              <form action="/publish" method="post">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="text" id="sample3" name="heading">
                  <label class="mdl-textfield__label" for="sample3">Heading</label>
                </div>
                <br>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                  <input class="mdl-textfield__input" type="text" id="sample3" name="author">
                  <label class="mdl-textfield__label" for="sample3">Author</label>
                </div>
                <br>
            <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Submit</button>
          </form>
        </div>

        <div class="col-lg-6">
              <h3>Manage Existing Accounts</h3>

                <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable" style="display: inline-block;">
                <thead>
                    <tr>
                      <th>#</th>
                      <th>ID</th>
                      <th>Action</th>
                    </tr>
                </thead>
                {% for number, id, act in users %}
                        <tr>
                           <th> {{ number }} </th>
                           <td> {{ id }} </td>
                           <td><a href={{act}}>Delete</a></td>
                        </tr>

                {% endfor %}
                </table>
        </div>

      </div>
    </div>
    </div>
    </div>


{% endblock %}
